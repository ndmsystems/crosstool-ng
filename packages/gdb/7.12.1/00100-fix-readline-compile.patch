diff -Naur a/readline/complete.c b/readline/complete.c
--- a/readline/complete.c	2017-01-21 14:48:42.000000000 +0100
+++ b/readline/complete.c	2025-01-22 11:58:24.513824669 +0100
@@ -20,6 +20,8 @@
 */
 
 #define READLINE_LIBRARY
+#define _XOPEN_SOURCE 700
+#include <wchar.h>
 
 #if defined (HAVE_CONFIG_H)
 #  include <config.h>
diff -Naur a/readline/display.c b/readline/display.c
--- a/readline/display.c	2017-01-21 14:48:42.000000000 +0100
+++ b/readline/display.c	2025-01-22 11:58:50.465965080 +0100
@@ -20,6 +20,8 @@
 */
 
 #define READLINE_LIBRARY
+#define _XOPEN_SOURCE 700
+#include <wchar.h>
 
 #if defined (HAVE_CONFIG_H)
 #  include <config.h>
diff -Naur a/readline/mbutil.c b/readline/mbutil.c
--- a/readline/mbutil.c	2016-08-01 17:50:21.000000000 +0200
+++ b/readline/mbutil.c	2025-01-22 12:10:59.941757511 +0100
@@ -20,6 +20,8 @@
 */
 
 #define READLINE_LIBRARY
+#define _XOPEN_SOURCE 700
+#include <wchar.h>
 
 #if defined (HAVE_CONFIG_H)
 #  include <config.h>
diff -Naur a/readline/rlmbutil.h b/readline/rlmbutil.h
--- a/readline/rlmbutil.h	2016-08-01 17:50:21.000000000 +0200
+++ b/readline/rlmbutil.h	2025-01-22 12:11:26.121846417 +0100
@@ -32,6 +32,7 @@
    support user defined character classes.  */
    /* Solaris 2.5 has a bug: <wchar.h> must be included before <wctype.h>.  */
 #if defined (HAVE_WCTYPE_H) && defined (HAVE_WCHAR_H) && defined (HAVE_LOCALE_H)
+#  define _XOPEN_SOURCE 700
 #  include <wchar.h>
 #  include <wctype.h>
 #  if defined (HAVE_ISWCTYPE) && \
